<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Enum and dataclass</title>

            <link href="https://blog.tobked.dev//feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ups and downs Full Atom Feed" />
            <link href="https://blog.tobked.dev//feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="ups and downs Full RSS Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="https://blog.tobked.dev/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="https://blog.tobked.dev/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="https://blog.tobked.dev/theme/css/code_blocks/github.css" rel="stylesheet">

            <!-- CSS specified by the user -->
            <link href="https://blog.tobked.dev/css/main.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="Few words about enum and dataclass">

        <meta name="author" content="Tobiasz Kedzierski">

        <meta name="tags" content="python">
        <meta name="tags" content="enum">
        <meta name="tags" content="dataclass">
        <meta name="tags" content="data">
        <meta name="tags" content="OOP">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="ups and downs">

	<meta property="og:type" content="article">
            <meta property="article:author" content="https://blog.tobked.dev/author/tobiasz-kedzierski">
	<meta property="og:url" content="https://blog.tobked.dev/enum-and-dataclass">
	<meta property="og:title" content="Enum and dataclass">
	<meta property="article:published_time" content="2019-06-23 00:00:00+02:00">
            <meta property="og:description" content="Few words about enum and dataclass">

            <meta property="og:image" content="https://blog.tobked.dev/images/poli_photo_by_julia_kaczorowska_edit.png">
</head>

<body class="article-enum-and-dataclass">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://blog.tobked.dev/">ups and downs</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                            <li><a href="https://blog.tobked.dev/pages/about-me">about me</a></li>
                            <li><a href="https://blog.tobked.dev/pages/links">links</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('https://blog.tobked.dev/images/poli_photo_by_julia_kaczorowska_edit.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Enum and dataclass</h1>
                        <span class="meta">Posted by
                                <a href="https://blog.tobked.dev/author/tobiasz-kedzierski">Tobiasz Kedzierski</a>
                             on 23.06.2019
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <h2 id="enum">Enum</h2>
<blockquote>
<p>"An enumeration is a set of symbolic names (members) bound to unique, constant values. Within an enumeration, the members can be compared by identity, and the enumeration itself can be iterated over."</p>
<p>-- <cite>https://docs.python.org/3/library/enum.html</cite></p>
</blockquote>
<p><code>Enum</code> is useful when you need immutable name-value pairs enclosed in an iterable object.
What is special in <code>Enum</code>? Its metaclass <code>EnumMeta</code> provides dunder methods <em>(dunder methods: double underscores at the beginning and the end, also called magic methods)</em> which allow to use <code>Enum</code> class which will fail on a typical class.</p>
<p>The <code>Enum</code> class is callable, providing the following functional API:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cards&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;clubs&#39;</span><span class="p">,</span> <span class="s1">&#39;diamonds&#39;</span><span class="p">,</span> <span class="s1">&#39;hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;spades&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span>
<span class="o">&lt;</span><span class="n">enum</span> <span class="s1">&#39;Cards&#39;</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span>                     
<span class="o">&lt;</span><span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span><span class="o">.</span><span class="n">name</span>                
<span class="s1">&#39;clubs&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span><span class="o">.</span><span class="n">value</span>               
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span><span class="p">,</span> <span class="n">Cards</span><span class="p">)</span>
<span class="kc">True</span> 
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># __iter__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">Cards</span><span class="p">)</span>                     
<span class="p">[</span><span class="o">&lt;</span><span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Cards</span><span class="o">.</span><span class="n">diamonds</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Cards</span><span class="o">.</span><span class="n">hearts</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Cards</span><span class="o">.</span><span class="n">spades</span><span class="p">:</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">Cards</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>

<span class="n">Cards</span><span class="o">.</span><span class="n">clubs</span>
<span class="n">Cards</span><span class="o">.</span><span class="n">diamonds</span>
<span class="n">Cards</span><span class="o">.</span><span class="n">hearts</span>
<span class="n">Cards</span><span class="o">.</span><span class="n">spades</span>

<span class="c1"># __len__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">Cards</span><span class="p">)</span>
<span class="c1"># 4</span>

<span class="c1"># __contains__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;spades&#39;</span> <span class="ow">in</span> <span class="n">Cards</span> 
<span class="kc">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span> <span class="ow">in</span> <span class="n">Cards</span> 
<span class="kc">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Cards</span><span class="o">.</span><span class="n">spades</span> <span class="ow">in</span> <span class="n">Cards</span> 
<span class="kc">True</span>

<span class="c1"># __dir__  notice that member names are in definiton order</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">Cards</span><span class="p">)[</span><span class="s1">&#39;__class__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__members__&#39;</span><span class="p">,</span> <span class="s1">&#39;__module__&#39;</span><span class="p">,</span> <span class="s1">&#39;clubs&#39;</span><span class="p">,</span> <span class="s1">&#39;diamonds&#39;</span><span class="p">,</span> <span class="s1">&#39;hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;spades&#39;</span><span class="p">]</span>
</code></pre></div>

<p>Class syntax:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">GREEN</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">BLUE</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">))</span>
<span class="s1">&#39;&lt;Color.RED: 1&gt;&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">)</span>          
<span class="o">&lt;</span><span class="n">enum</span> <span class="s1">&#39;Color&#39;</span><span class="o">&gt;</span>

<span class="c1"># access</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="c1"># __call__ method is invoked</span>
<span class="o">&lt;</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Color</span><span class="o">.</span><span class="n">BLUE</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="p">[</span><span class="s1">&#39;GREEN&#39;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">Color</span><span class="o">.</span><span class="n">GREEN</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">member</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">RED</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">member</span><span class="o">.</span><span class="n">name</span>                     
<span class="s1">&#39;RED&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">member</span><span class="o">.</span><span class="n">value</span>                    
<span class="mi">1</span>
</code></pre></div>

<h2 id="dataclasses">Dataclasses</h2>
<blockquote>
<p>"Data Classes can be thought of as "mutable namedtuples with defaults."</p>
<p>-- <cite>https://www.python.org/dev/peps/pep-0557/#abstract</cite></p>
</blockquote>
<p>Dataclasses were introduced in Python3.7 (PEP 557). They provide elegant syntax for creating mutable data holder objects.
They are based on <code>attrs</code> package "    that will bring back the joy of writing classes by relieving you from the drudgery of implementing object protocols (aka dunder methods)."</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">asdict</span><span class="p">,</span> <span class="n">astuple</span><span class="p">,</span> <span class="n">replace</span>


<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">:</span>
    <span class="n">hue</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">saturation</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">lightness</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="gh">#</span> __init__
&gt;&gt;&gt; c = Color(33, 1.0)
&gt;&gt;&gt; c
Color(hue=33, saturation=1.0, lightness=0.5)

&gt;&gt;&gt; c.hue
33
&gt;&gt;&gt; c.saturation
1.0
&gt;&gt;&gt; c.lightness
0.5

&gt;&gt;&gt; replace(c, hue=120)
Color(hue=120, saturation=1.0, lightness=0.5)
&gt;&gt;&gt; asdict(c)
{&#39;hue&#39;: 33, &#39;saturation&#39;: 1.0, &#39;lightness&#39;: 0.5}
&gt;&gt;&gt; astuple(c)
(33, 1.0, 0.5)
</code></pre></div>

<p>Dataclass by default generates special methods like:  <code>__init__</code>, <code>__doc__</code>, <code>__eq__</code>.</p>
<p>Some additional methods are created as well: <code>__annotations__</code>, <code>__dataclass_fields__</code>, <code>__dataclass_params__</code>.</p>
<p>Default values are treated as class variables.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># __doc__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="s1">&#39;Color(hue: int, saturation: float, lightness: float = 0.5)&#39;</span>

<span class="c1"># __repr__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="s1">&#39;Color(hue=33, saturation=1.0, lightness=0.5)&#39;</span>

<span class="c1"># __eq__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">Color</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># defaults as class variable</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="n">lightness</span>
<span class="mf">0.5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="n">hue</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="nb">type</span> <span class="nb">object</span> <span class="s1">&#39;Color&#39;</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;hue&#39;</span>

<span class="c1"># __annotations__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="vm">__annotations__</span>
<span class="p">{</span><span class="s1">&#39;hue&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">int</span><span class="s1">&#39;&gt;, &#39;</span><span class="n">saturation</span><span class="s1">&#39;: &lt;class &#39;</span><span class="nb">float</span><span class="s1">&#39;&gt;, &#39;</span><span class="n">lightness</span><span class="s1">&#39;: &lt;class &#39;</span><span class="nb">float</span><span class="s1">&#39;&gt;}</span>

<span class="c1"># __dataclass_params__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="n">__dataclass_params__</span>
<span class="n">_DataclassParams</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="nb">repr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">eq</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">order</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">unsafe_hash</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># __dataclass_fields__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Color</span><span class="o">.</span><span class="n">__dataclass_fields__</span>
<span class="p">{</span><span class="s1">&#39;hue&#39;</span><span class="p">:</span> <span class="n">Field</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;hue&#39;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">int</span><span class="s1">&#39;&gt;,</span>
    <span class="n">default</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f69fcc428d0</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">default_factory</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f69fcc428d0</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">repr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">compare</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">mappingproxy</span><span class="p">({}),</span>
    <span class="n">_field_type</span><span class="o">=</span><span class="n">_FIELD</span><span class="p">),</span>
<span class="s1">&#39;saturation&#39;</span><span class="p">:</span> <span class="n">Field</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;saturation&#39;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">float</span><span class="s1">&#39;&gt;,</span>
    <span class="n">default</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f69fcc428d0</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">default_factory</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f69fcc428d0</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">repr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">compare</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">mappingproxy</span><span class="p">({}),</span>
    <span class="n">_field_type</span><span class="o">=</span><span class="n">_FIELD</span><span class="p">),</span>
<span class="s1">&#39;lightness&#39;</span><span class="p">:</span> <span class="n">Field</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;lightness&#39;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">float</span><span class="s1">&#39;&gt;,</span>
    <span class="n">default</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">default_factory</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f69fcc428d0</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">repr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="nb">hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">compare</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">mappingproxy</span><span class="p">({}),</span>
    <span class="n">_field_type</span><span class="o">=</span><span class="n">_FIELD</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>If default dataclass does not suit you, you can easily modify it by passing parameters to dataclass decorator (init, repr, order, unsafe_hash, frozen).</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">:</span>
    <span class="n">hue</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">saturation</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">lightness</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Color</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">4.1</span><span class="p">)]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">colors</span><span class="p">))</span>
<span class="p">[</span><span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span>
 <span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span>
 <span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">4.1</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span>
 <span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">5.9</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)]</span>


 <span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">colors</span><span class="p">))</span>
 <span class="p">{</span><span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span>
  <span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">4.1</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span>
  <span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">5.9</span><span class="p">,</span> <span class="n">lightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)}</span>
</code></pre></div>

<h3 id="custom-fields">Custom fields</h3>
<ul>
<li>field factories - instance of collection, instead of fixed default value</li>
<li>custom methods - no different than for any other class</li>
<li>limiting hashing  - limit to immutable fields by <code>field(hash=False)</code></li>
<li>limiting fields which are displayed - <code>field(repr=False)</code></li>
<li>limiting for comparison - if dataclass has an <code>order=True</code> all fields are included in comparison. Exclusion of field is provided by <code>field(compare=False)</code></li>
<li>metadata - more information about the field, e.g. <code>salary = field(metadata={'units': 'bitcoin'})</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unsafe_hash</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">:</span>
    <span class="n">emp_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">gender</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">salary</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;bitcoin&quot;</span><span class="p">})</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">viewed_by</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">access</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewer_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewed_by</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">viewer_id</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">e1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;12345&#39;</span><span class="p">,</span>
<span class="o">&gt;&gt;&gt;</span>               <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Rachel Green&quot;</span><span class="p">,</span>
<span class="o">&gt;&gt;&gt;</span>               <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;female&#39;</span><span class="p">,</span>
<span class="o">&gt;&gt;&gt;</span>               <span class="n">salary</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
<span class="o">&gt;&gt;&gt;</span>               <span class="n">age</span> <span class="o">=</span> <span class="mi">20</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;67890&#39;</span><span class="p">,</span>
                  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Ross From Friends&quot;</span><span class="p">,</span>
                  <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;male&#39;</span><span class="p">,</span>
                  <span class="n">salary</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
                  <span class="n">age</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">e1</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="s1">&#39;Chandler Bing&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e1</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="s1">&#39;Joey T.&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">viewed_by</span><span class="p">)</span>
<span class="p">[(</span><span class="s1">&#39;Chandler Bing&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">706455</span><span class="p">)),</span>
 <span class="p">(</span><span class="s1">&#39;Joey T.&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">706458</span><span class="p">))]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">]))</span>
<span class="p">[</span><span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;12345&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rachel Green&#39;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">),</span>
 <span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;67890&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Ross From Friends&#39;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="p">)]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">assignments</span> <span class="o">=</span> <span class="p">{</span><span class="n">e1</span><span class="p">:</span> <span class="s1">&#39;be pretty&#39;</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="s1">&#39;be anxious&#39;</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="n">assignments</span><span class="p">)</span>
<span class="p">{</span><span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;12345&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rachel Green&#39;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span> <span class="s1">&#39;be pretty&#39;</span><span class="p">,</span>
 <span class="n">Employee</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="s1">&#39;67890&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Ross From Friends&#39;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span> <span class="s1">&#39;be anxious&#39;</span><span class="p">}</span>


<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">fields</span><span class="p">(</span><span class="n">e1</span><span class="p">)[</span><span class="mi">3</span><span class="p">])</span>
<span class="n">Field</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;salary&#39;</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">int</span><span class="s1">&#39;&gt;,</span>
      <span class="n">default</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fc094c06e80</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="n">default_factory</span><span class="o">=&lt;</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">_MISSING_TYPE</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fc094c06e80</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
      <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
      <span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
      <span class="n">compare</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
      <span class="n">metadata</span><span class="o">=</span><span class="n">mappingproxy</span><span class="p">({</span><span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;bitcoin&#39;</span><span class="p">}),</span>
      <span class="n">_field_type</span><span class="o">=</span><span class="n">_FIELD</span>
<span class="p">)</span>
</code></pre></div>

<p>Please check links below for more information. I strongly recommend Raymond Hettinger`s PyCon talk about dataclassses.</p>
<p><br></p>
<hr>
<h4 id="sources">Sources:</h4>
<ul>
<li><a href="https://docs.python.org/3/library/enum.html">enum — Support for enumerations - Python Documentation</a></li>
<li><a href="https://docs.python.org/3/library/dataclasses.html">dataclasses — Data Classes - Python Documentation</a></li>
<li><a href="https://realpython.com/python37-new-features/#data-classes">Cool New Features in Python 3.7 #Data Classes - realpython.com</a></li>
<li><a href="https://realpython.com/python-data-classes/">The Ultimate Guide to Data Classes in Python 3.7 - realpython.com</a></li>
<li><a href="https://www.python.org/dev/peps/pep-0557/">PEP 557 -- Data Classes</a></li>
<li><a href="https://github.com/python-attrs/attrs">attrs: Classes Without Boilerplate</a></li>
<li><a href="https://www.youtube.com/watch?v=T-TwcmT6Rcw">Raymond Hettinger - Dataclasses: The code generator to end all code generators - PyCon 2018</a></li>
</ul>
<div class="videoWrapper" style="height:0; padding-bottom:56.25%; padding-top:25px; position:relative" height="0">
    <iframe style="position:absolute; top:0; width:100%" height="100%" width="100%"' src="https://www.youtube-nocookie.com/embed/T-TwcmT6Rcw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
    </article>

        <div class="tags">
            <p>tags: <a href="https://blog.tobked.dev/tag/python">python</a>, <a href="https://blog.tobked.dev/tag/enum">enum</a>, <a href="https://blog.tobked.dev/tag/dataclass">dataclass</a>, <a href="https://blog.tobked.dev/tag/data">data</a>, <a href="https://blog.tobked.dev/tag/oop">OOP</a></p>
        </div>

    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://tobked.dev">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-user fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/in/tobiaszkedzierski/?locale=en_US">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/TobKed">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://blog.tobked.dev/feeds/all.rss.xml">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>. <br />
    Main page header photo by <a href="https://juliakaczorowska.pl/">Julia Kaczorowska</a> (other by me). <br />
        &copy;  Tobiasz Kedzierski
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://blog.tobked.dev/theme/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://blog.tobked.dev/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="https://blog.tobked.dev/theme/js/clean-blog.min.js"></script>

</body>

</html>